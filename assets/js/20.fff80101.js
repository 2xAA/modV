(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{73:function(t,e,a){"use strict";a.r(e);var s=a(0),n=Object(s.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("p",[t._v("To follow this guide, we'd recommend having some experience with:")]),t._v(" "),t._m(2),t._v(" "),a("p",[t._v("We'll be stealing ðŸ˜¬ "),a("a",{attrs:{href:"https://github.com/AVGP/shaderpad/blob/gh-pages/interesting_shaders.md#spherical-with-concentric-circles-blend",target:"_blank",rel:"noopener noreferrer"}},[t._v("a shader"),a("OutboundLink")],1),t._v(" from "),a("a",{attrs:{href:"https://twitter.com/g33konaut",target:"_blank",rel:"noopener noreferrer"}},[t._v("Martin Splitt"),a("OutboundLink")],1),t._v("'s "),a("a",{attrs:{href:"https://github.com/AVGP/shaderpad",target:"_blank",rel:"noopener noreferrer"}},[t._v("awesome shaderpad"),a("OutboundLink")],1),t._v(" - so you won't need a bunch of GLSL experience to follow along.")]),t._v(" "),t._m(3),t._v(" "),a("p",[t._v("Save a blank JavaScript file in the "),a("router-link",{attrs:{to:"/guide/mediaManager.html#media-folder"}},[t._v("Media Manager's media directory")]),t._v(". This will need to be placed in a "),a("code",[t._v("module")]),t._v(" folder within a Project folder. e.g. "),a("code",[t._v("[media path]/[project]/module")]),t._v(".")],1),t._v(" "),a("p",[t._v("By saving your Module here the Media Manager will compile your code and send it to modV on every file save. If you've placed your Module within a Layer already, you'll need to remove it from the Layer and drag your Module in again from the Gallery to use the updated Module.")]),t._v(" "),t._m(4),t._v(" "),a("p",[t._v("Let's get started by exporting an Object. modV Modules are written out as a plain Object.")]),t._v(" "),t._m(5),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),a("p",[t._v("If you have a larger shader or require syntax highlighting, you may import your shaders using:")]),t._v(" "),t._m(13),t._m(14),t._v(" "),t._m(15),t._m(16),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),t._m(24),t._m(25),t._v(" "),a("p",[t._v("The following code puts together everything from above:")]),t._v(" "),t._m(26)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"writing-a-shader-module"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#writing-a-shader-module","aria-hidden":"true"}},[this._v("#")]),this._v(" Writing a Shader Module")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("We're going to write a Module which works with the built-in "),e("code",[this._v("shader")]),this._v(" Renderer.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("JavaScript (ES6+)")]),this._v(" "),e("li",[this._v("GLSL\n"),e("ul",[e("li",[this._v("if you don't already have experience with GLSL then we recommend ???")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"_1-create-a-new-file"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-create-a-new-file","aria-hidden":"true"}},[this._v("#")]),this._v(" 1. Create a new file")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"_2-export-an-object"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-export-an-object","aria-hidden":"true"}},[this._v("#")]),this._v(" 2. Export an Object")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-JavaScript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"_3-set-up-the-meta"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-set-up-the-meta","aria-hidden":"true"}},[this._v("#")]),this._v(" 3. Set up the Meta")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Next up, we'll need to describe our Module with a meta Object block.\nLet's define the Module type as "),e("code",[this._v("shader")]),this._v(" and give our Module a name.")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-JavaScript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  meta"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// this tells modV our Module should be used with the shader renderer")]),t._v("\n    type"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'shader'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// our Module's name")]),t._v("\n    name"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'Spherical'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"_4-define-our-shaders"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-define-our-shaders","aria-hidden":"true"}},[this._v("#")]),this._v(" 4. Define our Shaders")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("In "),e("code",[this._v("shader")]),this._v(" type Modules, there are two properties on the Module body to define the Shaders we want to use:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("code",[this._v("fragmentShader")])]),this._v(" "),e("li",[e("code",[this._v("vertexShader")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Both are optional and the "),e("code",[this._v("shader")]),this._v(" Renderer automatically detects whether we're using "),e("code",[this._v("#version 300 es")]),this._v(" or not.\nBoth of these variables accept Strings only.")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-JavaScript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" fragmentShader "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'circles.frag'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" vertexShader "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'circles.vert'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("We'll only be using the "),e("code",[this._v("fragmentShader")]),this._v(" property in this guide:")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-JavaScript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token comment"}},[t._v("// meta: { ... },")]),t._v("\n  \n  fragmentShader"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token template-string"}},[a("span",{attrs:{class:"token string"}},[t._v("`\n    precision mediump float;\n    varying mediump vec2 uv;\n\n    uniform float uA;\n    uniform sampler2D u_modVCanvas;\n\n    void main(void) {\n      vec2 p = -1.0 + 2.0 * uv.xy;\n      float r = sqrt(dot(p, p));\n\n      float f = sqrt(1.0 - (r * r));\n      bool toggle = mod(r, 0.1) > 0.05 ? true : false;\n      if (f > 0.0 && toggle) \n        gl_FragColor = vec4(vec3(f), 1.0) * texture2D(u_modVCanvas, vec2(uv.x, uv.y));\n      else \n        gl_FragColor = vec4(uv.x, uv.y, 1.0, 1.0);\n    }\n  `")])]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"_5-props-and-uniforms"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-props-and-uniforms","aria-hidden":"true"}},[this._v("#")]),this._v(" 5. Props and Uniforms")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"_5-1-uniforms"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-uniforms","aria-hidden":"true"}},[this._v("#")]),this._v(" 5.1 uniforms")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The "),e("code",[this._v("shader")]),this._v(" Renderer defines the following Uniforms for you to consume within your Shader:")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",[a("thead",[a("tr",[a("th",[t._v("name")]),t._v(" "),a("th",[t._v("type")]),t._v(" "),a("th",[t._v("info")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("u_modVCanvas")]),t._v(", "),a("code",[t._v("iChannel0")]),t._v(", "),a("code",[t._v("iChannel1")]),t._v(", "),a("code",[t._v("iChannel2")]),t._v(", "),a("code",[t._v("iChannel3")])]),t._v(" "),a("td",[a("code",[t._v("texture2D")])]),t._v(" "),a("td",[t._v("The incoming frame")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("u_delta")]),t._v(", "),a("code",[t._v("iTime")]),t._v(", "),a("code",[t._v("iGlobalTime")])]),t._v(" "),a("td",[a("code",[t._v("float")])]),t._v(" "),a("td",[t._v("Time in milliseconds")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("u_time")])]),t._v(" "),a("td",[a("code",[t._v("float")])]),t._v(" "),a("td",[t._v("Time in seconds")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("iFrame")])]),t._v(" "),a("td",[a("code",[t._v("float")])]),t._v(" "),a("td",[t._v("Frame count since modV's drawloop started")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("iResolution")])]),t._v(" "),a("td",[a("code",[t._v("vec3")])]),t._v(" "),a("td",[t._v("The "),a("strong",[t._v("width")]),t._v(", "),a("strong",[t._v("height")]),t._v(" and "),a("strong",[t._v("pixel density")]),t._v(" of the largest Output Window")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("iMouse")])]),t._v(" "),a("td",[a("code",[t._v("vec4")])]),t._v(" "),a("td",[a("code",[t._v("[0.0, 0.0, 0.0, 0.0]")]),t._v(" "),a("strong",[t._v("@todo make this an actual control")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"warning custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Shadertoy compatibility")]),this._v(" "),e("p",[this._v("The "),e("code",[this._v("shader")]),this._v(" Renderer attempts to provide basic Shadertoy Uniform compatibility."),e("br"),this._v(" "),e("strong",[this._v("Currently it does not support passes/buffers or Audio shaders.")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"_5-2-defining-props"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-defining-props","aria-hidden":"true"}},[this._v("#")]),this._v(" 5.2 Defining props")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("With a "),e("code",[this._v("shader")]),this._v(" Module, the props should match the uniforms in your shader.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Our shader above has a uniform named "),e("code",[this._v("uA")]),this._v(" so we'll define the same in our props:")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-JavaScript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("props"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  uA"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    type"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'float'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("default")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1.0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    min"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("0.0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    max"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2.0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"_6-putting-everything-together"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-putting-everything-together","aria-hidden":"true"}},[this._v("#")]),this._v(" 6. Putting everything together")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-JavaScript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  meta"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    type"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'shader'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    name"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'Spherical'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  \n  props"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    uA"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      type"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'float'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{attrs:{class:"token keyword"}},[t._v("default")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1.0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      min"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("0.0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      max"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2.0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  fragmentShader"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token template-string"}},[a("span",{attrs:{class:"token string"}},[t._v("`\n    precision mediump float;\n    varying mediump vec2 uv;\n\n    uniform float uA;\n    uniform sampler2D u_modVCanvas;\n\n    void main(void) {\n      vec2 p = -1.0 + 2.0 * uv.xy;\n      float r = sqrt(dot(p, p));\n\n      float f = sqrt(1.0 - (r * r));\n      bool toggle = mod(r, 0.1) > 0.05 ? true : false;\n      if (f > 0.0 && toggle) \n        gl_FragColor = vec4(vec3(f), 1.0) * texture2D(u_modVCanvas, vec2(uv.x, uv.y));\n      else \n        gl_FragColor = vec4(uv.x, uv.y, 1.0, 1.0);\n    }\n  `")])]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])}],!1,null,null,null);n.options.__file="writingAShaderModule.md";e.default=n.exports}}]);
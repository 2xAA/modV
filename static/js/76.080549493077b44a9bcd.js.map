{"version":3,"sources":["webpack:///./src/modv/sample-modules/Waveform-2.0.js"],"names":[],"mappings":";;;;;;AAAA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,SAAS,kDAAkD;AAC3D,SAAS,qDAAqD;AAC9D,SAAS,qCAAqC;AAC9C,SAAS,uCAAuC;AAChD,SAAS,+BAA+B;AACxC;AACA,KAAK;;AAEL;AACA;AACA;AACA,kBAAkB,wBAAwB;AAC1C;AACA;AACA,aAAa,wBAAwB;AACrC,aAAa,wBAAwB;AACrC,aAAa,uBAAuB;AACpC,aAAa,yBAAyB;AACtC,aAAa,yBAAyB;AACtC,aAAa,yBAAyB;AACtC,aAAa,wBAAwB;AACrC,aAAa,yBAAyB;AACtC,aAAa,yBAAyB;AACtC,aAAa,wBAAwB;AACrC,aAAa,yBAAyB;AACtC,aAAa,wBAAwB;AACrC,aAAa,uBAAuB;AACpC,aAAa,wBAAwB;AACrC,aAAa,yBAAyB;AACtC,aAAa,wBAAwB;AACrC,aAAa,yBAAyB;AACtC,aAAa,wBAAwB;AACrC,aAAa,yBAAyB;AACtC,aAAa,yBAAyB;AACtC;AACA;AACA,SAAS;AACT,OAAO;AACP,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;;AAEH,QAAQ,mCAAmC;AAC3C,WAAW,gBAAgB;AAC3B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB,kBAAkB;AACrC;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH","file":"static/js/76.080549493077b44a9bcd.js","sourcesContent":["// import Meyda from 'meyda';\n\nexport default {\n  meta: {\n    name: 'Waveform',\n    author: '2xAA',\n    version: '1.0.0',\n    audioFeatures: ['buffer'],\n    type: '2d',\n  },\n\n  props: {\n    strokeWeight: {\n      type: 'int',\n      label: 'Stroke',\n      min: 1,\n      max: 30,\n      default: 1,\n      strict: true,\n    },\n\n    maxHeight: {\n      type: 'float',\n      label: 'Height',\n      min: 1.0,\n      max: 100.0,\n      default: 75.0,\n    },\n\n    windowing: {\n      type: 'enum',\n      label: 'Windowing',\n      enum: [\n        { label: 'Rectangular (no window)', value: 'rect' },\n        { label: 'Hanning', value: 'hanning', selected: true },\n        { label: 'Hamming', value: 'hamming' },\n        { label: 'Blackman', value: 'blackman' },\n        { label: 'Sine', value: 'sine' },\n      ],\n    },\n\n    color: {\n      control: {\n        type: 'paletteControl',\n        default: { r: 199, g: 64, b: 163 },\n        options: {\n          colors: [\n            { r: 199, g: 64, b: 163 },\n            { r: 97, g: 214, b: 199 },\n            { r: 222, g: 60, b: 75 },\n            { r: 101, g: 151, b: 220 },\n            { r: 213, g: 158, b: 151 },\n            { r: 100, g: 132, b: 129 },\n            { r: 154, g: 94, b: 218 },\n            { r: 194, g: 211, b: 205 },\n            { r: 201, g: 107, b: 152 },\n            { r: 119, g: 98, b: 169 },\n            { r: 214, g: 175, b: 208 },\n            { r: 218, g: 57, b: 123 },\n            { r: 196, g: 96, b: 98 },\n            { r: 218, g: 74, b: 219 },\n            { r: 138, g: 100, b: 121 },\n            { r: 96, g: 118, b: 225 },\n            { r: 132, g: 195, b: 223 },\n            { r: 82, g: 127, b: 162 },\n            { r: 209, g: 121, b: 211 },\n            { r: 181, g: 152, b: 220 },\n          ], // generated here: http://tools.medialab.sciences-po.fr/iwanthue/\n          duration: 500,\n        },\n      },\n    },\n  },\n\n  data: {\n    strokeWeight: 1,\n    windowing: 'hanning',\n    maxHeight: 75,\n  },\n\n  draw({ canvas, context, features, meyda }) {\n    const { width, height } = canvas;\n    const bufferLength = features.buffer.length;\n    const buffer = meyda.windowing(features.buffer, this.windowing);\n\n    context.lineWidth = this.strokeWeight;\n    context.strokeStyle = this.color;\n    context.beginPath();\n\n    const sliceWidth = width / bufferLength;\n    let x = 0;\n\n    for (let i = 0; i < bufferLength; i += 1) {\n      const v = (buffer[i] / 100) * this.maxHeight;\n      const y = (height / 2) + ((height / 2) * v);\n\n      if (i === 0) {\n        context.moveTo(x, y);\n      } else {\n        context.lineTo(x, y);\n      }\n\n      x += sliceWidth;\n    }\n\n    context.lineTo(width, height / 2);\n    context.stroke();\n  },\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/modv/sample-modules/Waveform-2.0.js\n// module id = 804\n// module chunks = 76"],"sourceRoot":""}
{"version":3,"sources":["webpack:///./src/modv/sample-modules/Pixelate-2.0.js"],"names":[],"mappings":";;;;;;AAAA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH,QAAQ,SAAS;AACjB;AACA,2BAA2B;AAC3B,wBAAwB;AACxB;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH,UAAU,SAAS;AACnB;AACA;AACA,GAAG;;AAEH,QAAQ,4BAA4B;AACpC;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH","file":"static/js/80.c72c84f98f57fe3901f1.js","sourcesContent":["// import Meyda from 'meyda';\n\nexport default {\n  meta: {\n    name: 'Pixelate',\n    author: '2xAA',\n    version: '1.0.0',\n    audioFeatures: ['zcr', 'rms'],\n    type: '2d',\n    previewWithOutput: true,\n  },\n\n  props: {\n    pixelAmount: {\n      type: 'int',\n      label: 'Amount',\n      min: 2,\n      max: 30,\n      step: 1,\n      default: 5,\n    },\n\n    soundReactive: {\n      type: 'bool',\n      label: 'Sound Reactive',\n      default: false,\n    },\n\n    intensity: {\n      type: 'int',\n      label: 'RMS/ZCR Intensity',\n      min: 0,\n      max: 30,\n      step: 1,\n      default: 15,\n    },\n\n    soundType: {\n      type: 'bool',\n      label: 'RMS (unchecked) / ZCR (checked)',\n      default: false,\n    },\n  },\n\n  data: {\n    soundType: false, // false RMS, true ZCR\n    intensity: 1, // Half max\n    analysed: 0,\n    amount: 10,\n    baseSize: 1,\n    size: 2,\n    color: [255, 0, 0, 1],\n    speed: 1,\n    balls: [],\n    wrap: false,\n  },\n\n  init({ canvas }) {\n    this.soundReactive = false;\n    this.soundType = false; // false RMS, true ZCR\n    this.intensity = 15; // Half max\n    this.pixelAmount = 5;\n\n    this.newCanvas2 = document.createElement('canvas');\n    this.newCtx2 = this.newCanvas2.getContext('2d');\n    this.newCtx2.imageSmoothingEnabled = false;\n\n    this.newCanvas2.width = canvas.width;\n    this.newCanvas2.height = canvas.height;\n  },\n\n  resize({ canvas }) {\n    this.newCanvas2.width = canvas.width;\n    this.newCanvas2.height = canvas.height;\n  },\n\n  draw({ canvas, context, features }) {\n    let w;\n    let h;\n    let analysed;\n\n    if (this.soundReactive) {\n      if (this.soundType) {\n        analysed = features.zcr / (10 * this.intensity);\n      } else {\n        analysed = (features.rms * 10) * this.intensity;\n      }\n\n      w = canvas.width / analysed;\n      h = canvas.height / analysed;\n    } else {\n      w = canvas.width / this.pixelAmount;\n      h = canvas.height / this.pixelAmount;\n    }\n\n    context.save();\n    this.newCtx2.clearRect(0, 0, this.newCanvas2.width, this.newCanvas2.height);\n    context.imageSmoothingEnabled = false;\n    this.newCtx2.drawImage(canvas, 0, 0, canvas.width, canvas.height, 0, 0, w, h);\n    context.drawImage(this.newCanvas2, 0, 0, w, h, 0, 0, canvas.width, canvas.height);\n    context.restore();\n  },\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/modv/sample-modules/Pixelate-2.0.js\n// module id = 798\n// module chunks = 80"],"sourceRoot":""}
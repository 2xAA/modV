{"version":3,"sources":["webpack:///./src/modv/sample-modules/Waveform-2.0.js"],"names":[],"mappings":";;;;;;AAAA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,SAAS,kDAAkD;AAC3D,SAAS,qDAAqD;AAC9D,SAAS,qCAAqC;AAC9C,SAAS,uCAAuC;AAChD,SAAS,+BAA+B;AACxC;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH,QAAQ,mCAAmC;AAC3C,WAAW,gBAAgB;AAC3B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB,kBAAkB;AACrC;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH","file":"static/js/72.bf1b299e244c2bac62b9.js","sourcesContent":["// import Meyda from 'meyda';\n\nexport default {\n  meta: {\n    name: 'Waveform',\n    author: '2xAA',\n    version: '1.0.0',\n    audioFeatures: ['buffer'],\n    type: '2d',\n  },\n\n  props: {\n    strokeWeight: {\n      type: 'int',\n      label: 'Stroke',\n      min: 1,\n      max: 30,\n      default: 1,\n      strict: true,\n    },\n\n    maxHeight: {\n      type: 'float',\n      label: 'Height',\n      min: 1.0,\n      max: 100.0,\n      default: 75.0,\n    },\n\n    windowing: {\n      type: 'enum',\n      label: 'Windowing',\n      enum: [\n        { label: 'Rectangular (no window)', value: 'rect' },\n        { label: 'Hanning', value: 'hanning', selected: true },\n        { label: 'Hamming', value: 'hamming' },\n        { label: 'Blackman', value: 'blackman' },\n        { label: 'Sine', value: 'sine' },\n      ],\n    },\n  },\n\n  data: {\n    colour: 'red',\n    strokeWeight: 1,\n    windowing: 'hanning',\n    maxHeight: 75,\n  },\n\n  draw({ canvas, context, features, meyda }) {\n    const { width, height } = canvas;\n    const bufferLength = features.buffer.length;\n    const buffer = meyda.windowing(features.buffer, this.windowing);\n\n    context.lineWidth = this.strokeWeight;\n    context.strokeStyle = this.colour;\n    context.beginPath();\n\n    const sliceWidth = width / bufferLength;\n    let x = 0;\n\n    for (let i = 0; i < bufferLength; i += 1) {\n      const v = (buffer[i] / 100) * this.maxHeight;\n      const y = (height / 2) + ((height / 2) * v);\n\n      if (i === 0) {\n        context.moveTo(x, y);\n      } else {\n        context.lineTo(x, y);\n      }\n\n      x += sliceWidth;\n    }\n\n    context.lineTo(width, height / 2);\n    context.stroke();\n  },\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/modv/sample-modules/Waveform-2.0.js\n// module id = 786\n// module chunks = 72"],"sourceRoot":""}